<html>
<head>
    <title>Login</title>
    <link rel="stylesheet" type="text/css" href="../public/css/main.css">
</head>

<body>

<div id="nav">
    <img style="width:100;height:100" src="https://storage.googleapis.com/ferrets/logoCorner.svg">
    <ul>
        <li><a href="/#atf">Home</a></li>
        <li><a href="/#btf">Mission</a></li>
        <li><a href="/#contacts">Contacts</a></li>
    </ul>
</div>
<div id="atf">
    <h1>Update User Information</h1>
    <form method="POST"  action="/api/updateUserInfo" id="formUpdateUserInfo">
        <i class="fa fa-user fa-5x"></i>
        <input id="email" name="email" type="email" placeholder="Enter your email" autofocus>
        <p class="form-field-err"></p>

        <p></p>
        <input id="password" name="password" type="password" placeholder="Create your New password">
        <p></p>
        <input id="password2" name="password2" type="password" placeholder="Retype your password">
        <p class="form-field-err" id="password-err"></p>
        <button id="btn-update-account">Update Account</button>
    </form>
</div>
</body>

<script>
    var formUser = document.querySelector('#formUpdateUserInfo');
    var p1 = document.querySelector('#password');
    var p2 = document.querySelector('#password2');
    var btnSubmit = document.querySelector('#btn-update-account');

    var pErr = document.querySelector('#password-err');


    //    Validate passwords
    //    listen for submit button click
    formUser.addEventListener('submit', function(e){
        var ok = validatePasswords();
        if (!ok) {
            e.preventDefault();
            return;
        }
    });

    function validatePasswords() {
        pErr.textContent = '';
        if (p1.value === '') {
            pErr.textContent = 'Enter a password.';
            return false;
        }
        if (p1.value !== p2.value) {
            pErr.textContent = 'Your passwords did not match. Please re-enter your passwords.';
            p1.value = '';
            p2.value = '';
            return false;
        }
        return true;
    };
</script>

</html>
